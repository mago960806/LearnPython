#!/usr/bin/python
#coding=utf-8
import commands
ips = ['134.224.126.1','134.224.126.3','134.224.126.4','134.224.126.5','134.224.126.6','134.224.126.7','134.224.126.8','134.224.95.57','134.224.95.58','134.224.126.69','134.224.126.50','134.224.126.2','134.224.126.203','134.224.95.40','134.224.95.41','134.224.95.42','134.224.95.43','134.224.95.44','134.224.95.45','134.224.95.49','134.224.95.55','134.224.95.56','134.224.95.85','134.224.95.74','134.224.95.75','134.224.95.78','134.224.104.131','134.224.104.68','134.224.127.186','134.224.127.187','134.224.127.188','134.224.127.189','134.224.127.190','134.224.127.191','134.224.127.192','134.224.123.242','134.224.95.82','134.224.95.83','134.224.95.84','134.224.94.151','134.224.94.152','134.224.95.39','134.224.165.10','134.224.165.11']
for ip in ips:
    result=commands.getstatusoutput('echo stats | nc -w 1 %s 11211' % ip)
    if result[0] == 256:
        print("主机"+ip+"没有运行Memcached服务")
    else:
        print("\033[1;31;40m主机"+ip+"可能存在Memcached漏洞 \033[0m")